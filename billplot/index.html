<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../assets/css/bootstrap-reboot.css">
    <link rel="stylesheet" href="../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../assets/css/bootstrap-grid.css">
<!--    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay"-->
<!--          crossorigin="anonymous">-->
    <link rel="stylesheet" href="../assets/css/mainStyle.css">
    <title>Bill Plot Form</title>
    <style>
        input.num, input.money{text-align: right;}
    </style>
</head>
<body>
    <div class="container">
        <h2 class="top-sm">Plotting Set Biller Form</h2>
        <div class="form-wrapper">
            <form>
                <div class="form-group row">
                    <div class="col-md-6">
                        <div class="row">
                            <label for="date" class="col-sm-3">Date</label>
                            <div class="col-sm-9"><input type="date" id="date" name="date" class="form-control form-control-sm"></div>
                        </div>
                        <div class="row">
                            <label for="jobNumber" class="col-sm-3">Job Number</label>
                            <div class="col-sm-9"><input type="text" id="jobNumber" name="jobNumber" class="form-control form-control-sm"></div>
                        </div>
                        <div class="row">
                            <label for="clientCode" class="col-sm-3">Client Code</label>
                            <div class="col-sm-9"><input type="text" id="clientCode" name="clientCode" class="form-control form-control-sm"></div>
                        </div>
                        <div class="row">
                            <label for="clientNumber" class="col-sm-3">Client Number</label>
                            <div class="col-sm-9"><input type="text" id="clientNumber" name="clientNumber" class="form-control form-control-sm"></div>
                        </div>
                        <div class="form-group row">
                            <label for="attention" class="col-sm-3">Attention</label>
                            <div class="col-sm-9">
                                <input type="text" id="attention" name="attention" class="form-control form-control-sm" list="clientNames">
                                <datalist id="clientNames"></datalist>
                            </div>
                        </div>
                        <div class="row">
                            <label for="authBy" class="col-sm-3">Authorized by</label>
                            <div class="col-sm-9"><input type="text" id="authBy" name="authBy" class="form-control form-control-sm"></div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label for="project" class="col-sm-3">Project</label>
                            <div class="col-sm-9"><input type="text" id="project" name="project" class="form-control form-control-sm"></div>
                        </div>
                        <div class="row">
                            <label for="company" class="col-sm-3">Company</label>
                            <div class="col-sm-9"><input type="text" id="company" name="company" class="form-control form-control-sm"></div>
                        </div>
                        <div class="row">
                            <label for="addr1" class="col-sm-3">Address 1</label>
                            <div class="col-sm-9"><input type="text" id="addr1" name="addr1" class="form-control form-control-sm"></div>
                        </div>
                        <div class="row">
                            <label for="addr2" class="col-sm-3">Address 2</label>
                            <div class="col-sm-9"><input type="text" id="addr2" name="addr2" class="form-control form-control-sm"></div>
                        </div>
                        <div class="row">
                            <label for="city" class="col-sm-3">City</label>
                            <div class="col-sm-9"><input type="text" id="city" name="city" class="form-control form-control-sm"></div>
                        </div>
                        <div class="row">
                            <label for="state" class="col-sm-3">State</label>
                            <div class="col-3"><input type="text" id="state" name="state" class="form-control form-control-sm"></div>
                            <label for="zip" class="col-3">Zip</label>
                            <div class="col-3"><input type="text" id="zip" name="zip" class="form-control form-control-sm"></div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <textarea id="description" name="description" class="form-control" placeholder="Description"></textarea>
                </div>
                <div class="form-group">
                    <table class="table table-borderless table-sm">
                        <thead>
                        <tr>
                            <th scope="col">Number of Sets</th>
                            <th scope="col">Sheets per Set</th>
                            <th scope="col">Sheet size</th>
                            <th scope="col">Media Type</th>
                            <th scope="col">Colored</th>
                            <th scope="col">Cost/Sheet</th>
                            <th scope="col">Line Total</th>
                        </tr>
                        </thead>
                        <tbody id="rowWrapper">
                        <tr>
                            <td><input type="text" name="numSets[]" class="form-control form-control-sm num"></td>
                            <td><input type="text" name="numSheets[]" class="form-control form-control-sm num"></td>
                            <td>
                                <select name="sheetSizes[]" class="form-control form-control-sm">
                                    <option value="ss1">24 x 36</option>
                                    <option value="ss2">30 x 42</option>
                                    <option value="ss3">36 x 48</option>
                                    <option value="ss4">8.5 x 11</option>
                                    <option value="ss5">11 x 17</option>
                                    <option value="ss6">12 x 18</option>
                                    <option value="ss7">15 x 21</option>
                                    <option value="ss8">18 x 24</option>
                                    <option value="ss9">22 x 34</option>
                                </select>
                            </td>
                            <td>
                                <select name="mediaType[]" class="form-control form-control-sm">
                                    <option value="paper">Paper</option>
                                </select>
                            </td>
                            <td class="text-center">
                                <input type="checkbox" class="form-check-input" name="colored[]">
                            </td>
                            <td><input type="text" name="costs[]" class="form-control form-control-sm money cost-money" placeholder="$0.00" disabled></td>
                            <td><input type="text" name="lineTotals[]" class="form-control form-control-sm money total-money" placeholder="$0.00" disabled></td>
                        </tr>
                        </tbody>
                        <tfoot>
                        <tr>
                            <td><button type="button" id="addRow" class="btn btn-primary btn-sm" style="margin: auto;">Add Row</button></td>
                            <th colspan="5" scope="row" class="text-right">Bill Total</th>
                            <td><input type="text" name="total" id="total" class="form-control form-control-sm money" placeholder="$0.00" disabled></td>
                        </tr>
                        </tfoot>
                    </table>
                </div>
                <div class="form-group row">
                    <div class="col-md-8">
                        <button type="button" class="btn btn-primary">View Plotting Prices</button>
                    </div>
                    <div class="col-md-4">
                        <div class="row">
                            <button type="button" class="btn btn-secondary" style="margin-left: auto;">Cancel</button>
                            <input type="submit" value="Print" class="btn btn-primary" style="margin-left: 5px;">
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>


<script src="../assets/js/jquery-3.3.1.js"></script>
<script src="../assets/js/jquery.mask.js"></script>
<script src="../assets/js/bootstrap.bundle.js"></script>
<script src="../assets/js/bootstrap.js"></script>
<script src="../assets/js/main.js"></script>
<script>
    let sheetSizes = {
        ss1: "24 x 36",
        ss2: "30 x 42",
        ss3: "36 x 48",
        ss4: "8.5 x 11",
        ss5: "11 x 17",
        ss6: "12 x 18",
        ss7: "15 x 21",
        ss8: "18 x 24",
        ss9: "22 x 34"
    };

    $("input.num").mask("#");

    $("#addRow").click(function(){
        let wrapper = $("#rowWrapper");
        let newRow = $("<tr>");

        let setsTd = $("<td>");
        let setsIn = $("<input>");
        setsIn.addClass("form-control form-control-sm num");
        setsIn.attr({
            type: "text",
            name: "numSets[]"
        });
        setsIn.mask("#");
        setsTd.append(setsIn);
        newRow.append(setsTd);

        let sheetsTd = $("<td>");
        let sheetsIn = $("<input>");
        sheetsIn.addClass("form-control form-control-sm num");
        sheetsIn.attr({
            type: "text",
            name: "numSheets[]"
        });
        sheetsIn.mask("#");
        sheetsTd.append(sheetsIn);
        newRow.append(sheetsTd);

        let sizeTd = $("<td>");
        let sizeIn = $("<select>");
        sizeIn.addClass("form-control form-control-sm");
        sizeIn.attr("name", "sheetSizes[]");
        for (var key in sheetSizes){
            sizeIn.append("<option value=\""+key+"\">"+sheetSizes[key]+"</option>");
        }
        sizeTd.append(sizeIn);
        newRow.append(sizeTd);

        let mediaTd = $("<td>");
        let mediaIn = $("<select>");
        mediaIn.addClass("form-control form-control-sm");
        mediaIn.attr("name", "mediaType[]");
        mediaIn.append("<option value=\"paper\">Paper</option>");
        mediaTd.append(mediaIn);
        newRow.append(mediaTd);

        let colorTd = $("<td>");
        colorTd.addClass("text-center");
        let colorIn = $("<input>");
        colorIn.addClass("form-check-input");
        colorIn.attr({
            type: "checkbox",
            name: "colored[]"
        });
        colorTd.append(colorIn);
        newRow.append(colorTd);

        let costTd = $("<td>");
        let costIn = $("<input>");
        costIn.addClass("form-control form-control-sm money cost-money");
        costIn.attr({
            type: "text",
            name: "costs[]",
            placeholder: "$0.00",
            disabled: true
        });
        costTd.append(costIn);
        newRow.append(costTd);

        let lineTd = $("<td>");
        let lineIn = $("<input>");
        lineIn.addClass("form-control form-control-sm money total-money");
        lineIn.attr({
            type: "text",
            name: "lineTotals[]",
            placeholder: "$0.00",
            disabled: true
        });
        lineTd.append(lineIn);
        newRow.append(lineTd);

        wrapper.append(newRow);

    });

    function updatePrices(){
        let cost = $.closest("td").find(".cost-money");
        let lineTotal = $.closest("td").find(".total-money");
        let total = $("#total");


    }
    
</script>
</body>
</html>